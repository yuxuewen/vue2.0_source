{"version":3,"file":"vue.js","sources":["../src/util/index.js","../src/observe/array.js","../src/observe/index.js","../src/state.js","../src/complier/parser.js","../src/complier/generator.js","../src/complier/index.js","../src/observe/watcher.js","../src/vdom/patch.js","../src/lifecircle.js","../src/init.js","../src/vdom/create-element.js","../src/render.js","../src/index.js"],"sourcesContent":["/**\r\n * 判断是否是对象\r\n */\r\nexport function isObject(obj){\r\n    return typeof obj==='object' && obj!==null;\r\n      \r\n}","\r\nexport let newArrayProto=Object.create(Array.prototype);\r\n let oldMethods=Array.prototype;\r\n //需要重写数组的方法 \r\n let methods=[\r\n       'push',\r\n       'pop',\r\n       'unshift',\r\n       'shift',\r\n       'splice',\r\n       'sort',\r\n       'reverst'\r\n ];\r\n methods.forEach((method)=>{\r\n       newArrayProto[method]=function(...args){\r\n              //依然执行原数组原型上的方法\r\n              let result= oldMethods[method].call(this,...args);\r\n              let insered=null,//新增的元素\r\n                  ob=this._ob_\r\n              switch(method){\r\n                   case 'push':\r\n                   case 'unshift':\r\n                       insered=args;\r\n                       break;\r\n                    case 'splice':\r\n                        insered=args.splice(2);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                   \r\n              }\r\n              //对于新增元素进行观测\r\n              insered && ob.observeArray(insered);\r\n              return result;\r\n       }\r\n })","/**\r\n * 数据观测\r\n */\r\nimport {isObject} from '../util/index.js'\r\nimport {newArrayProto} from './array'\r\n class Observer{\r\n       constructor(data)\r\n       {\r\n            //将 this 挂载在data 上 可以使用ob 调用方法\r\n             Object.defineProperty(data,'_ob_',{\r\n                   enumerable:false,\r\n                   configurable:false,\r\n                   value:this\r\n             })\r\n\r\n             if(data instanceof Array)\r\n             {\r\n                 //数组是 [].__proto__=Array.prototype\r\n                 //更改需要观测数组的原型链\r\n                 data.__proto__=newArrayProto;\r\n                 this.observeArray(data);\r\n             }\r\n             else{\r\n                 //监测对象\r\n                  this.walk(data);\r\n             }\r\n\r\n             \r\n       }\r\n       /**\r\n        * 观测数组\r\n        * @param {*} data \r\n        */\r\n       observeArray(data){\r\n\r\n          for(let i=0;i<data.length;i++)\r\n          {\r\n              observe(data[i])\r\n          }\r\n\r\n       }\r\n       /**\r\n        * 遍历监测对象\r\n        * @param {*} data \r\n        */\r\n       walk(data){\r\n          //  Object.keys 不可遍历不可枚举类型 所以 _ob_ 不会被遍历\r\n         Object.keys(data).forEach(key=>{\r\n             defineReactive(data,key,data[key])\r\n         })\r\n       }\r\n\r\n\r\n }\r\n /**\r\n  * 数据监测\r\n  * @param {*} data \r\n  * @param {*} key \r\n  * @param {*} value \r\n  */\r\n\r\n function defineReactive(data,key,value){\r\n       observe(value);// value 还是对象，递归\r\n       Object.defineProperty(data,key,{\r\n           get(){\r\n               return value;\r\n\r\n           },\r\n           set(newValue){\r\n               if(newValue===value) return;\r\n               //对于赋值的如果是对象 进行响应式监测\r\n               observe(newValue);\r\n           }\r\n       })\r\n\r\n }\r\n /**\r\n  * 观测数据方法\r\n  * @param {*} data \r\n  */\r\n\r\n export function observe(data)\r\n {\r\n       //不是对象\r\n       if(!isObject(data)) return;\r\n       //说明已经被观测\r\n       if(data._ob_ instanceof Observer) return;\r\n       return new Observer(data);\r\n }\r\n\r\n","\r\nimport {observe} from './observe/index.js'\r\nexport let initState=(vm)=>{\r\n     initData(vm)\r\n       \r\n}\r\n\r\nfunction proxy(target,source,key){\r\n    Object.defineProperty(target,key,{\r\n         get(){\r\n             return target[source][key]\r\n\r\n         },\r\n         set(newValue){\r\n            target[source][key]=newValue;\r\n\r\n         }\r\n    })\r\n\r\n}\r\n\r\nfunction initData(vm){\r\n    const options=vm.$options;\r\n    if(options.data)\r\n    {\r\n        // 如果 data 是函数得到函数执行的返回值\r\n        let  data=typeof options.data==='function'?(options.data).call(vm):options.data;\r\n        console.log(`需要观测的值${data.toString()}`);\r\n        console.log(data)\r\n        vm._data=data;\r\n        for(let key in data)\r\n        {\r\n            proxy(vm,'_data',key)\r\n\r\n        }\r\n        observe(data)\r\n    }\r\n     \r\n       \r\n}","//              字母a-zA-Z_ - . 数组小写字母 大写字母  \r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // 标签名\r\n// ?:匹配不捕获   <aaa:aaa>\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\r\n// startTagOpen 可以匹配到开始标签 正则捕获到的内容是 (标签名)\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\r\n// 闭合标签 </xxxxxxx>  \r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\r\n// <div aa   =   \"123\"  bb=123  cc='123'\r\n// 捕获到的是 属性名 和 属性值 arguments[1] || arguments[2] || arguments[2]\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\r\n// <div >   <br/>\r\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\r\n// 匹配动态变量的  +? 尽可能少匹配 {{}}\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\r\nconst ELEMENT_NDOE='1';\r\nconst TEXT_NODE='3'\r\nexport function parseHTML(html) {\r\n    console.log(html)\r\n    // ast 树 表示html的语法\r\n    let root; // 树根 \r\n    let currentParent;\r\n    let elementStack = []; // \r\n    /**\r\n     * ast 语法元素\r\n     * @param {*} tagName \r\n     * @param {*} attrs \r\n     */\r\n    \r\n    function createASTElement(tagName,attrs){\r\n        return {\r\n            tag:tagName, //标签\r\n            attrs,  //属性\r\n            children:[], //子节点\r\n            parent:null, //父节点\r\n            type:ELEMENT_NDOE //节点类型\r\n        }\r\n    }\r\n    // console.log(html)\r\n    function start(tagName, attrs) { \r\n        //创建跟节点\r\n        let element=createASTElement(tagName,attrs);\r\n    \r\n        if(!root)\r\n        {\r\n            root=element;\r\n        }\r\n        currentParent=element;//最新解析的元素\r\n        elementStack.push(element); //元素入栈 //可以保证 后一个是的parent 是他的前一个\r\n    }\r\n    function end(tagName) {  // 结束标签\r\n        //最后一个元素出栈 \r\n        let element=elementStack.pop();\r\n        let parent=elementStack[elementStack.length-1];\r\n        //节点前后不一致，抛出异常\r\n        if(element.tag!==tagName)\r\n        {\r\n            throw new TypeError(`html tag is error ${tagName}`);\r\n\r\n        }\r\n        console.log(parent)\r\n        if(parent)\r\n        {\r\n            //子元素的parent 指向\r\n            element.parent=parent;\r\n            //将子元素添进去\r\n            parent.children.push(element);\r\n\r\n        }\r\n       \r\n    }\r\n    /**\r\n     * 解析到文本\r\n     * @param {*} text \r\n     */\r\n    function chars(text) { // 文本\r\n        //解析到文本\r\n        text=text.replace(/\\s/g,'');\r\n        //将文本加入到当前元素\r\n        currentParent.children.push({\r\n              type:TEXT_NODE,\r\n              text\r\n        })\r\n        \r\n\r\n      \r\n    }\r\n    // 根据 html 解析成树结构  </span></div>\r\n    while (html) {\r\n        //如果是html 标签\r\n        let textEnd = html.indexOf('<');\r\n        if (textEnd == 0) {\r\n            const startTageMatch = parseStartTag();\r\n\r\n            if (startTageMatch) {\r\n                // 开始标签\r\n                start(startTageMatch.tagName,startTageMatch.attrs)\r\n            }\r\n            const endTagMatch = html.match(endTag);\r\n            \r\n            if (endTagMatch) {\r\n                advance(endTagMatch[0].length);\r\n                end(endTagMatch[1])\r\n            }\r\n            // 结束标签 \r\n        }\r\n\r\n        // 如果不是0 说明是文本\r\n        let text;\r\n        if (textEnd > 0) {\r\n            text = html.substring(0, textEnd); // 是文本就把文本内容进行截取\r\n            chars(text);\r\n        }\r\n        if (text) {\r\n            advance(text.length); // 删除文本内容\r\n        }\r\n    }\r\n\r\n    function advance(n) {\r\n        html = html.substring(n);\r\n    }\r\n    /**\r\n     * 解析开始标签\r\n     * <div id='app'> ={ tagName:'div',attrs:[{id:app}]}\r\n     */\r\n\r\n    function parseStartTag() {\r\n        const start = html.match(startTagOpen); // 匹配开始标签\r\n        if (start) {\r\n            const match = {\r\n                tagName: start[1], // 匹配到的标签名\r\n                attrs: []\r\n            }\r\n            \r\n            advance(start[0].length);\r\n            let end, attr;\r\n            //开始匹配属性 如果没有匹配到标签的闭合 并且比配到标签的 属性\r\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n                advance(attr[0].length);\r\n                match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] })\r\n            };\r\n            //匹配到闭合标签\r\n            if (end) {\r\n                advance(end[0].length);\r\n                return match;\r\n            }\r\n        }\r\n    }\r\n\r\n    return root;\r\n\r\n}","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g //匹配 {{}}\r\n\r\n// let str='11{{33}}{{4}}44'\r\n// console.log(defaultTagRE.exec(str))\r\n// [ '{{33}}',匹配到元素\r\n//   '33',   //匹配的结果\r\n//   index: 2,\r\n//   input: '11{{33}}{{4}}44',\r\n//   groups: undefined ]\r\n/**\r\n * 属性\r\n * @param {*} attrs \r\n */\r\nfunction genProps(attrs){\r\n    let str='';\r\n    for(let i=0;i<attrs.length;i++)\r\n    {\r\n        let attr=attrs[i];\r\n        //目前暂时处理 style 特殊情况 例如 @click v-model 都得特殊处理\r\n        // {\r\n        //     name:'style',\r\n        //     value:'color:red;border:1px'\r\n        // }\r\n        if(attr.name==='style')\r\n        {\r\n             let obj={};\r\n             attr.value.split(';').forEach(element => {\r\n                 let [key='',value='']= element.split(':');\r\n                 obj[key]=value;\r\n\r\n             });\r\n             attr.value=obj;\r\n\r\n           \r\n        }\r\n       \r\n       str+=`${attr.name}:${JSON.stringify(attr.value)},`;\r\n\r\n    }\r\n    return `{${str.slice(0,-1)}}`;\r\n\r\n}\r\n\r\nfunction gen(el){\r\n    //还是元素节点\r\n    if(el.type==='1')\r\n    {\r\n         return generate(el);\r\n\r\n    }\r\n    else{\r\n        let text=el.text;\r\n        if(!text) return;\r\n        //一次解析\r\n       if(defaultTagRE.test(el.text))\r\n        {\r\n            defaultTagRE.lastIndex=0\r\n            let lastIndex = 0, //上一次的匹配后的索引\r\n            index=0,\r\n            match=[],\r\n            result=[];\r\n          while(match=defaultTagRE.exec(text)){\r\n              index=match.index;\r\n              //先将 bb{{aa}} 中的 bb 添加\r\n              result.push(`${JSON.stringify(text.slice(lastIndex,index))}`);\r\n              //添加匹配的结果\r\n              result.push(`_s(${match[1].trim()})`);\r\n              lastIndex = index + match[0].length;\r\n              console.log(lastIndex);\r\n\r\n          }\r\n          //例如：11{{sd}}{{sds}}23 此时 23还未添加\r\n          if(lastIndex<text.length)\r\n          {\r\n              //result.push(`_v(${JSON.stringify(text.slice(lastIndex))})`);\r\n              result.push(JSON.stringify(text.slice(lastIndex)));\r\n\r\n          }\r\n           console.log(result);\r\n          //返回\r\n\r\n           return `_v(${result.join('+')})`\r\n  \r\n      }\r\n      //没有变量\r\n       else{\r\n          return `_v(${JSON.stringify(text)})`\r\n\r\n       }\r\n    }\r\n\r\n}\r\n/**\r\n * 解析子元素\r\n * @param {*} el \r\n */\r\n\r\nfunction genChildren(el){\r\n    const {children}=el;\r\n    if(children.length>0)\r\n    {\r\n        let resList=[];\r\n        for(let i=0;i<children.length;i++)\r\n        {\r\n             let res=gen(children[i]);\r\n             if(res) resList.push(res);\r\n        }\r\n        return resList.join(',')\r\n    }\r\n    return false;\r\n\r\n}\r\n// return _c('div',{class:'a'},_c('span',null,123,_v('hello')+_v(age))+_v(msg)))\r\n//三部分 标签，属性，子\r\nexport function generate(el){\r\n    let children = genChildren(el); // 生成孩子字符串\r\n    let result = `_c(\"${el.tag}\",${\r\n            el.attrs.length? `${genProps(el.attrs)}`  : undefined\r\n        }${\r\n            children? `,${children}` :undefined\r\n        })`;\r\n   \r\n    return result;\r\n}\r\n","\r\nimport {parseHTML} from './parser.js'\r\nimport {generate} from './generator.js'\r\n\r\nexport function compileToFunctions(template){\r\n    //解析成 ast 树形元素\r\n    let ast=parseHTML(template);\r\n    let astStr=generate(ast);//_c(\"div\",id:\"app\",_v(\"\"),_c(\"div\",class:\"content\",_v(_v(\"主页面\"),_s(name),_v(\"e}}\"),_s(age),_v(e}})),_v(\"\")),_c(\"p\",style:{\"color\":\"red\"},_v(\"静态节点\"),_v(\"\")))\r\n    //转为\r\n    //astStr='_c(\"div\",{id:\"app\"},,_c(\"div\",{class:\"content\"},_v(_v(\"主页面\"),_s(name)),),_c(\"p\",{style:{\"color\":\"red\"}},_v(\"静态节点\"),))'\r\n    let renderFnStr = `with(this){ \\r\\nreturn ${astStr} \\r\\n}`;\r\n    console.log(astStr);\r\n    let render=new Function(renderFnStr);\r\n    console.log(render);\r\n    //render();\r\n    return render;\r\n\r\n\r\n\r\n\r\n}","class Watcher{\r\n    constructor(vm,exprOrFn,cb,options){\r\n        exprOrFn();\r\n    }\r\n}\r\n\r\n\r\nexport default Watcher","export function patch(oldVnode,newVnode){\r\n    const isRealElement = oldVnode.nodeType;\r\n\r\n    if(isRealElement){\r\n        // 真实元素\r\n        const oldElm = oldVnode;\r\n        const parentElm = oldElm.parentNode;\r\n        console.log(newVnode);\r\n        let el = createElement(newVnode);\r\n        console.log(el);\r\n        //查询新的\r\n        parentElm.insertBefore(el,oldElm.nextSibling)\r\n        //移除旧元素\r\n        parentElm.removeChild(oldElm);\r\n        return el; // 渲染的真实dom\r\n    }else{\r\n        // dom diff 算法\r\n    }\r\n\r\n}\r\n/**\r\n * 創建元素\r\n * @param {*} vnode \r\n */\r\n\r\nfunction createElement(vnode){\r\n    let {tag,data,key,children,text}=vnode;\r\n    if(typeof tag==='string')\r\n    {\r\n        vnode.el=document.createElement(tag);\r\n        updateProps(vnode);\r\n        children.forEach(child => {\r\n            vnode.el.appendChild(createElement(child)); \r\n            \r\n        });\r\n\r\n    }\r\n    else{\r\n        vnode.el=document.createTextNode(text);\r\n\r\n    }\r\n    return vnode.el;\r\n\r\n}\r\n/**\r\n * \r\n * @param {*} el \r\n * @param {*} data \r\n */\r\n\r\nfunction updateProps(vnode){\r\n    let {el,data}=vnode;\r\n    for(let key in data)\r\n    {\r\n        if(key==='style')\r\n        {\r\n            for(let styleName in data[key])\r\n            {\r\n                el.style[styleName]=data[key][styleName];\r\n            }\r\n\r\n        }\r\n        else{\r\n            el.setAttribute(key,data[key]);\r\n        }\r\n\r\n    }\r\n    \r\n\r\n}","import Watcher from './observe/watcher.js'\r\nimport {patch} from './vdom/patch';\r\n\r\n/**\r\n * 生命周期\r\n */\r\n\r\n export function lifeCycleMixin(Vue){\r\n     /**\r\n      * 更新节点方法\r\n      */\r\n     Vue.prototype._update=function(vnode){\r\n        const vm = this;\r\n\r\n        vm.$el = patch(vm.$el,vnode);\r\n\r\n     }\r\n }\r\n /**\r\n  * 渲染\r\n  * @param {*} vm \r\n  * @param {*} el \r\n  */\r\n\r\n export function mountComponent(vm,el){\r\n\r\n    \r\n    const updateComponent = () =>{\r\n        // 内部会调用刚才我们解析后的render方法 =》 vnode\r\n        // _render => options.render 方法\r\n        // _update => 将虚拟dom 变成真实dom 来执行\r\n        vm._update(vm._render()); \r\n    }\r\n\r\n    // 每次数据变化 就执行 updateComponent 方法 进行更新操作\r\n    new Watcher(vm, updateComponent, () => {}, true);\r\n\r\n\r\n\r\n }","/**\r\n * 初始化\r\n */\r\nimport {initState} from './state.js';\r\nimport {compileToFunctions} from './complier/index.js'\r\nimport {mountComponent} from './lifecircle.js'\r\n export let  initMixin=(Vue)=>{\r\n        /**\r\n         * 在原型上添加初始化的方法\r\n         */\r\n        Vue.prototype._init=function(options){\r\n             const vm=this;\r\n             //将参数挂载到 vm 上\r\n             vm.$options=options;\r\n             initState(vm);\r\n            if(vm.$options.el)\r\n            {\r\n                 this.$mount(vm.$options.el);\r\n            }\r\n        }\r\n        /**\r\n         * 挂载\r\n         * 三种: render 函数 >template 模板 >取html页面的模板\r\n         * \r\n         * new Vue({\r\n              el:\"#app\"\r\n             template:'<div>{{msg}}</div>',\r\n          //ast 语法树\r\n          render:()=>{\r\n\r\n          },\r\n          data:()=>{\r\n                return {\r\n\r\n                }\r\n          }\r\n        })._mount('#app');\r\n         */\r\n       \r\n        Vue.prototype.$mount=function(el){\r\n             const vm=this;\r\n             el=vm.$el=document.querySelector(el);\r\n             const {render,template}=vm.$options;\r\n             //render 必须是一个函数\r\n             if(!render ||  typeof render!=='function')\r\n             {\r\n                  //有模板取模板\r\n                   let _template=template || el.outerHTML;\r\n                   //将模板解析成ast语法树\r\n                   const render=compileToFunctions(_template);\r\n                   vm.$options.render=render;\r\n\r\n             }\r\n             mountComponent(vm,el); // 组件的挂载流程\r\n                \r\n        }\r\n        \r\n  }\r\n","/**\r\n * 创建节点\r\n * @param {*} param0 \r\n */\r\nexport function createElement(tag,data={},...children){\r\n   \r\n    return  vNode(tag,data,data.key,children,undefined);\r\n\r\n}\r\n/**\r\n * 文本节点\r\n * @param {*} text \r\n */\r\nexport function createNodeText(text){\r\n    \r\n    console.log(text);\r\n    return vNode(undefined,undefined,undefined,undefined,text)\r\n\r\n}\r\n/**\r\n * 虚拟节点\r\n */\r\nfunction vNode(tag,data,key,children,text){\r\n      return {\r\n           tag,\r\n           data,\r\n           key,\r\n           children,\r\n           text\r\n\r\n      }\r\n}","import {createElement,createNodeText} from './vdom/create-element.js'\r\nexport function renderMixin(Vue){\r\n    Vue.prototype._render=function(){\r\n        const vm=this;\r\n        const {render}=vm.$options;\r\n        //创建节点\r\n        Vue.prototype._c=function(){\r\n            \r\n            return createElement(...arguments);\r\n\r\n        }\r\n        //创建文本节点\r\n        Vue.prototype._v=function(text){\r\n            return createNodeText(text);\r\n\r\n        }\r\n        Vue.prototype._s=function(val){\r\n            console.log(val===null?\"\":(typeof val==='object'?JSON.stringify(val):val));\r\n            \r\n            return val===null?\"\":(typeof val==='object'?JSON.stringify(val):val);\r\n\r\n        }\r\n        \r\n        //执行\r\n        let node=render.call(vm);\r\n        console.log(node);\r\n    \r\n        return node;\r\n    }\r\n\r\n}","import { initMixin } from \"./init\";\r\nimport {renderMixin} from './render.js'\r\nimport {lifeCycleMixin} from './lifecircle.js'\r\n\r\n/**\r\n * vue 入口文件\r\n * @param {*} options \r\n */\r\nfunction Vue(options){\r\n    this._init(options);\r\n\r\n}\r\n//扩展 Vue方法\r\ninitMixin(Vue);\r\n//Render 方法\r\nrenderMixin(Vue);\r\n//注入生命周期\r\nlifeCycleMixin(Vue);\r\n\r\nexport default Vue;"],"names":["isObject","obj","newArrayProto","Object","create","Array","prototype","oldMethods","methods","forEach","method","args","result","call","insered","ob","_ob_","splice","observeArray","Observer","data","defineProperty","enumerable","configurable","value","__proto__","walk","i","length","observe","keys","key","defineReactive","get","set","newValue","initState","vm","initData","proxy","target","source","options","$options","console","log","toString","_data","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","ELEMENT_NDOE","TEXT_NODE","parseHTML","html","root","currentParent","elementStack","createASTElement","tagName","attrs","tag","children","parent","type","start","element","push","end","pop","TypeError","chars","text","replace","textEnd","indexOf","startTageMatch","parseStartTag","endTagMatch","match","advance","substring","n","attr","name","defaultTagRE","genProps","str","split","JSON","stringify","slice","gen","el","generate","test","lastIndex","index","exec","trim","join","genChildren","resList","res","undefined","compileToFunctions","template","ast","astStr","renderFnStr","render","Function","Watcher","exprOrFn","cb","patch","oldVnode","newVnode","isRealElement","nodeType","oldElm","parentElm","parentNode","createElement","insertBefore","nextSibling","removeChild","vnode","document","updateProps","child","appendChild","createTextNode","styleName","style","setAttribute","lifeCycleMixin","Vue","_update","$el","mountComponent","updateComponent","_render","initMixin","_init","$mount","querySelector","_template","outerHTML","vNode","createNodeText","renderMixin","_c","arguments","_v","_s","val","node"],"mappings":"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"}